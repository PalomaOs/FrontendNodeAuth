<% locals.Title="Peliculas" %>
<% locals.SubTitle="Editar" %>

<%- include("../shared/head") %>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb small">
        <li class="breadcrumb-item"><a href="<%=locals.AppPath%>/peliculas/" class="text-decoration-none"
                title="Regresar al listado">Listado</a></li>
        <li class="breadcrumb-item active" aria-current="page">
            <%=locals.SubTitle %>
        </li>
    </ol>
</nav>

<h2 class="text-center mb-3">
    <%=locals.Title %> <small class="text-muted fs-5">
            <%=locals.SubTitle %>
        </small>
</h2>

<form method="post" novalidate="novalidate">
    <div class="card mt-3">
        <div class="row g-8">
            <div class="col-md-4">
                <img src='<%= ((locals.Model.poster == "N/A") ? "https://via.placeholder.com/300x450" : locals.Model.poster)%>'
                    alt="<%= locals.Model.titulo %>" class="img-fluid img-thumbnail mt-2 ms-2"
                    style="max-height: 300px;">
            </div>
            <div class="col-md-8">
                <div class="card-body small">
                    <div class="form-floating mb-3">
                        <input placeholder="PeliculaId" readonly="" class="form-control-plaintext is-valid"
                            type="number" id="PeliculaId" name="PeliculaId"
                            value="<%=locals.Model.peliculaid %>">
                        <label class="form-label" for="PeliculaId">Id</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input placeholder="Titulo" class="form-control" type="text" data-val="true"
                            data-val-required="El campo Titulo es obligatorio." id="Titulo" name="Titulo"
                            value="<%=locals.Model.titulo %>">
                        <label class="form-label" for="Titulo">Titulo</label>
                        <span class="text-danger" data-valmsg-for="Titulo" data-valmsg-replace="true">
                            <%=locals.error %>
                        </span>
                    </div>
                    <div class="form-floating mb-3">
                        <input placeholder="Anio" class="form-control" type="number" data-val="true"
                            data-val-range="El valor del campo Año debe estar entre 1950 y 2824."
                            data-val-range-max="2024" data-val-range-min="1950"
                            data-val-required="El campo Año es obligatorio." id="Anio" name="Anio"
                            value="<%=locals.Model.anio%>">
                        <label class="form-label" for="Anio">Año</label>
                        <span class="text-danger" data-valmsg-for="Anio" data-valmsg-replace="true"></span>
                    </div>
                    <div class="form-floating mb-3">
                        <input placeholder="Poster" class="form-control form-control-sm" type="text"
                            data-val="true"
                            data-val-remote="El campo Poster debe ser una dirección URL válida o N/A."
                            data-val-remote-additional fields="*.Poster"
                            data-val-remote-url="<%=locals.AppPath%>/peliculas/validaposter"
                            data-val-required="El campo Poster es obligatorio." id="Poster" name="Poster"
                            value="<%=locals.Model.poster %>">
                        <label class="form-label" for="Poster">Poster</label>
                        <span class="text-danger" data-valmsg-for="Poster"
                            data-valmsg-replace="true"></span>
                        <div class="form-text small">Escriba N/A si la película no tiene un poster.</div>
                    </div>
                    <div class="form-floating mb-3">
                        <textarea placeholder="Poster" class="form-control form-control-sm"
                            style="height: 100px" data-val="true"
                            data-val-required="El campo Sinopsis es obligatorio." id="Sinopsis"
                            name="Sinopsis"><%=locals.Model.sinopsis %></textarea>
                        <label class="form-label" for="Sinopsis">Sinopsis </label>
                        <span class="text-danger" data-valmsg-for="Sinopsis"
                            data-valmsg-replace="true"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="text-center mt-3">
        <button id="btnEnviar" type="submit" class="btn btn-sm btn-danger">Guardar</button>
        <a href="<%=locals.AppPath%>/peliculas/" class="btn btn-sm btn-outline-secondary"
            title="Cancelar">Cancelar</a>
    </div>
</form>

<%- include("../shared/footer", { RenderScriptsSection: true }) %>